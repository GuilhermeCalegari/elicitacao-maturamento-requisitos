<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/template/default.xhtml">

	<ui:define name="content">

		<p:panel header="#{csuTitle}" style="border:0;">
			<h:form id="frmList" prependId="false" style="border:0;">
				<ui:insert name="extra">COMPLEMENTO</ui:insert>
				<p:commandButton id="bttCreate" value="#{msg.msg_novo}"
					actionListener="#{controller.create}" update=":frmList:dlgPanel" oncomplete="dlg.show();"
					styleClass="ui-button" />

				<p:dataTable id="tblData" var="row" value="#{controller.list}" rows="10"
					paginator="true" rowsPerPageTemplate="10"
					paginatorPosition="bottom" style="margin-top:5px;width:100%;"
					emptyMessage="#{msg.msg_no_record_found}" widgetVar="tblDataFilter">
					<ui:insert name="columns">COLUNAS</ui:insert>
				</p:dataTable>
				
				

				<p:dialog id="dlgForm" header="#{csuTitleForm}"
					height="#{modalHeight}" width="#{modalWidth}" resizable="false"
					modal="true" widgetVar="dlg">
					<p:panel id="dlgPanel" style="border:0;">
						<ui:insert name="fields">FIELDS</ui:insert>
					</p:panel>
					<h:panelGroup layout="block"
						style="text-align:center;margin-top:7px;">
						<p:commandButton id="bttSave" value="#{msg.msg_salvar}"
							actionListener="#{controller.save}" update="tblData"
							oncomplete="dlg.hide();" />
						<span class="separator"></span>
						<p:commandButton id="bttCancel" value="#{msg.msg_cancelar}"
							onclick="dlg.hide();" />
					</h:panelGroup>
				</p:dialog>
			
			</h:form>
		</p:panel>

		<script type="text/javascript">
			function handleComplete(xhr, status, args) {
				if (args.isValid)
					dlg.hide();
			}
		</script>

	</ui:define>
</ui:composition>
